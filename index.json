[{"content":"","date":"20 June 2023","permalink":"/tags/docker/","section":"Tags","summary":"","title":"Docker"},{"content":" Introduction # Previously, I had a powerful Unraid server that consumed significant power due to multiple hard drives (\u0026gt;50TB!) and other components. I made the switch to a more energy-efficient and streamlined setup centered around an M2 Mac Mini running Asahi Linux. Additionally, I incorporated the use of rclone to mount Google Drive cloud storage to makeup for the lack of storage.\n1. The Conundrum # The primary catalyst for downsizing my homelab was the excessive power consumption and bloat of my Unraid server. With numerous hard drives and power-hungry components (such as my RTX 3070), my electricity bill was spiraling out of control. Unraid was always warning me my hardware was constantly hitting high temps heating up my office, and creating a ton of noise with its fans. I was running a ton of docker containers and virtual machines that were not being utilized. Recognizing the hard truth of what my home really needs, I sought a more lean, quiet, cost-effective, and power-efficient alternative.\n2. The Mac Mini # Enter the M2 Mac mini. I opted for the base model with 8GB memory and 256GB SSD. This compact yet mighty device caught my attention for its exceptional performance and energy efficiency. By opting for the Mac mini, I drastically reduced power consumption. Power specs from Apple\nMac mini (2023)\nApple M2 chip, 24GB unified memory, 2TB SSD Power Consumption Thermal Output Idle CPU Max Idle CPU Max 7 W 50 W 24 BTU/h 171 BTU/h The compact size seamlessly integrated into my workspace without compromising on capabilities.\n3. Embracing Asahi Linux # I opted out of using macOS to conserve resources and keep it lean. Instead to fully utilize the potential of the M2 Mac mini, I decided to install Asahi Linux, a community-driven project that brings Linux compatibility to Apple Silicon devices. This open-source endeavor allowed me to harness the power of the Mac mini while maintaining the flexibility and familiarity of a Linux environment. At the time of installation the M2 Mac Mini was not offically supported which meant I had to make a lot of tweaks to the installer script and finish the installation without any display. Once setup I\u0026rsquo;m able to bring the essential homelab services I DO run such as scrypted and homeassistant using docker containers.\n4. Unlimited storage with Rclone and Google Drive # One concern I had while downsizing was the storage capacity. However, I discovered a powerful solution in rclone. Google Workspaces offers unlimited storage for $20 a month. By leveraging rclone\u0026rsquo;s ability to mount Google Drive cloud storage, I unlocked virtually unlimited storage potential while reducing the physical hardware required (unless Google revokes my grandfathered plan). Rclone also handles encryption of the data, so Google cannot view any sensitive information I am storing. The seamless integration of rclone with my homelab services allowed me to maintain data accessibility and security.\nBelow is the usage in rclone mount vs in google drive. (The mount makes it seem like a petabyte lol) There are some extra enhancements such as using mergerfs for fast initial read/write speeds and syncing it later with a scheduled service. Overall though, pretty nifty!\nConclusion # The combination of power efficiency, space optimization, and streamlined services has enhanced both the functionality and aesthetic of my setup. Integration of rclone and Google Drive has provided me with unparalleled storage scalability and flexibility. I no longer need to worry about physically expanding my storage capacity or managing multiple hard drives. The cloud-based solution has simplified my data management while ensuring data integrity and accessibility. I encourage you to evaluate your own homelab and consider the benefits of downsizing. Embracing efficiency and simplicity can lead to a more enjoyable and sustainable homelab experience.\n","date":"20 June 2023","permalink":"/posts/downsized_homelab/","section":"Posts","summary":"Introduction # Previously, I had a powerful Unraid server that consumed significant power due to multiple hard drives (\u0026gt;50TB!","title":"Downsizing My Homelab: Embracing Efficiency and Simplicity"},{"content":"","date":"20 June 2023","permalink":"/","section":"Eric's Blog","summary":"","title":"Eric's Blog"},{"content":"","date":"20 June 2023","permalink":"/tags/homelab/","section":"Tags","summary":"","title":"Homelab"},{"content":"","date":"20 June 2023","permalink":"/tags/m2/","section":"Tags","summary":"","title":"M2"},{"content":"","date":"20 June 2023","permalink":"/tags/mac/","section":"Tags","summary":"","title":"Mac"},{"content":"","date":"20 June 2023","permalink":"/posts/","section":"Posts","summary":"","title":"Posts"},{"content":"","date":"20 June 2023","permalink":"/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"","date":"20 June 2023","permalink":"/tags/unraid/","section":"Tags","summary":"","title":"Unraid"},{"content":" Why remote development? # Develop from anywhere, any machine Leverage work onto the cloud I recently took an interest in remote development infrastructure as I am in a situation where I am always on a \u0026lsquo;different machine\u0026rsquo; (Laptop, or VM with GPU Passthru that is routinely reset). As a result I find myself having to reinstall all sorts of CLIs/Dev tools to get back into coding, and that sucks.\nSolution # Introducing\u0026hellip; Coder!\nCoder allows you to provision remote development machines so that you (and other contributors) can work on the same workspace. This means not having to worry about reinstalling dependencies, and more focus on coding!\nTo demonstrate, I have created a workspace off a Docker template (does NOT have to be Docker! It leverages Terraform so it\u0026rsquo;s your choice!)\nYou can access it via ssh, terminal, and the best part code-server (VS Code in the browser) (Can even code in an iPad 😎! For this example I am running VS Code on my M2 Air with Remote SSH.\nThis workspace was created using their NPM docker image, which of course means I can run and create node projects!\nAll this is done on my remote server meaning all the heavy lifting is done elsewhere instead of using my precious battery!\nWhile this solves my problems, this solution offers a ton of other benefits. If you are interested in remote development, hopefully this demonstration can give you the push you need.\nP.S. This blog post was written in Coder!\n","date":"21 July 2022","permalink":"/posts/coder/","section":"Posts","summary":"Why remote development?","title":"Remote Workspace Development w/ Coder"},{"content":"","date":"20 November 2021","permalink":"/categories/","section":"Categories","summary":"","title":"Categories"},{"content":"","date":"20 November 2021","permalink":"/categories/tech/","section":"Categories","summary":"","title":"Tech"},{"content":" Note: This doesn\u0026rsquo;t apply to only UNRAID, as it is just Docker configurations but I include steps for UNRAID. I won\u0026rsquo;t be going into creating a reverse proxy (There are plenty of tutorials out there for that but I recommend NGINX Proxy Manager if you are new)\nIf you self-host a lot of applications you may find that sometimes you worry about what happens if it is compromised. Maybe it\u0026rsquo;s an application that holds sensitive information such as a password manager you don\u0026rsquo;t want exposed except in your network (via VPN). The following will allow you to create a container with restrricted access (no internet or local access to the network except access from host)\nCreate LAN Only Docker Network # Run the following command docker network create onlylocal --internal --subnet=172.44.0.0/16 where \u0026lsquo;onlylocal\u0026rsquo; can be whatever you want to name the network, and subnet (required) is defined up to you. Apply LAN Only network to \u0026lsquo;sensitive\u0026rsquo; container # For demo purposes I will demonstrate the sensitive docker container you want to restrict with an nginx container in the basic template\nCreating docker container (internal ip on network statically set to 172.44.0.69 here for demo) Running demo app Testing that we cannot access locally Connect reverse proxy to access # I recommend a custom DNS server for your network that points to the reverse proxy on a custom domain that you can only access on LAN\nIn your reverse proxy container, add post arguments (Assuming UNRAID) to connect to the restricted network ; docker network connect onlylocal Nginx-Proxy-Manager-Official You can replace \u0026lsquo;Nginx-Proxy-Manager-Official\u0026rsquo; with whatever your reverse proxy container name is. Configure reverse proxy to forward requests into the internal ip (in my case 172.44.0.69 as previously set for demo) ??? Profit! Now you can be sure your restricted app can only be accessed through your reverse proxy (with whatever configuration you make for your reverse proxy which I hope you secured!).\n","date":"20 November 2021","permalink":"/posts/dockerunraidlanonly/","section":"Posts","summary":"Note: This doesn\u0026rsquo;t apply to only UNRAID, as it is just Docker configurations but I include steps for UNRAID.","title":"UNRAID - Restricting Docker External Access for Self-Hosted Containers and Access via Reverse Proxy"},{"content":"","date":"5 June 2020","permalink":"/tags/vfio/","section":"Tags","summary":"","title":"VFIO"},{"content":"","date":"5 June 2020","permalink":"/tags/windows/","section":"Tags","summary":"","title":"Windows"},{"content":" Playing GTAV on Windows, while running MacOS. All in one computer.\n\u0026hellip;Why? # I have an iPhone, Apple Watch, Airpods, and Macbook Pro but sadly no Desktop Mac\u0026hellip; until now. Solutions to docking my Macbook into my monitor using a dongle or eGPU seemed gross. Plus, I saw Linus do it and thought it\u0026rsquo;d be cool 😎\nCredits to Linus Tech Tips I also sometimes need to use a Mac. Most recently I used it to jailbreak my iPhone. I can send texts, backup my iPhone, view photos and files in icloud, and whatever else I need without needing to compromise between a gaming PC and work machine.\nHow it was done # Lots of handholding from guides online.\nFirst, I set up MacOS on a virtual machine using this guide: passthroughpost guide. You need to pick a Linux distro and ensure your hardware is compatible, I picked Manjaro with the following hardware setup:\nGigabyte Z390 AORUS Master Intel Core i9-9900K GTX 1080 Ti RX 5700 Once setup, I passed through the RX 5700 graphics card using the following guide: PCI Passthrough via OVMF. Afterwards I configured Clover for the RX 5700 and was able to boot into MacOS! By the way, Messages and Facetime will not work properly unless you tinker with clover configurator (I have no idea how I got it to work, I spent hours and I am not going to retracing my steps).\nNow that the hard part was over, setting up a Windows machine and passing through the 1080 Ti was a breeze. Just setup however you like using virt-manager (it\u0026rsquo;s pretty intuitive). I passed through the 1080 Ti and USB Controller and was ready to go.\nFor KVM software, I decided against Synergy because I didn\u0026rsquo;t want to have to login to their servers to use a KVM. Instead, I use Barrier, a fork of Synergy.\nNow, I have a full seamless Windows\u0026amp;Mac experience with no compromises!\nComparison # Here\u0026rsquo;s the Geekbench Scores with 4 cores/8 threads of 9900K, RX 5700, \u0026amp; 12GB of allocated RAM\nCPU Benchmarks # GPU/OpenCL Benchmark # Compared to the two latest compute results when searching for Macbook Pro (Late 2019) ","date":"5 June 2020","permalink":"/posts/windowsmac2in1/","section":"Posts","summary":"Playing GTAV on Windows, while running MacOS.","title":"Windows \u0026 Mac: United at Long Last"},{"content":"","date":"16 May 2020","permalink":"/tags/config/","section":"Tags","summary":"","title":"config"},{"content":"Posting my settings here in case I lose them or want to reference on another machine.\nCounter-Strike: Global Offensive (CS:GO) # Client Cvars # sensitivity 1.25; closeonbuy 1; viewmodel_presetpos 3; cl_autowepswitch 0; net_graph 1; bind mwheelup +jump; bind mwheeldown +jump; apply_crosshair_code CSGO-koN4E-pSyUU-eZ6WC-5PP9a-5WRZQ; Crosshair for reference # Overwatch # Fortnite # Mouse # Mouse: G604 DPI: 1600 Polling rate: 1000 ","date":"16 May 2020","permalink":"/posts/csgosetting/","section":"Posts","summary":"Posting my settings here in case I lose them or want to reference on another machine.","title":"Configuration for CS:GO, Overwatch, etc"},{"content":"","date":"16 May 2020","permalink":"/categories/misc/","section":"Categories","summary":"","title":"Misc"},{"content":"","date":"16 May 2020","permalink":"/tags/settings/","section":"Tags","summary":"","title":"settings"},{"content":" You have probably seen these sandwiches pop up on youtube trending. They\u0026rsquo;re pretty good, straight up sandwiches with wagyu in it.\nBought some of the sauce they call \u0026ldquo;WAGYUSCO\u0026rdquo; but forgot to take pictures of it.\nLocation # ","date":"8 May 2020","permalink":"/posts/wagyumafia_2019/","section":"Posts","summary":"You have probably seen these sandwiches pop up on youtube trending.","title":"Wagyu Mafia 🐄"},{"content":"If you\u0026rsquo;re looking for the best Japanese curry, then look no further. Little Shop Curry is a no nonsense curry restauraunt that doesn\u0026rsquo;t lie about its name, it is really small! Although the building is small\u0026hellip;\nThe portions are HUGE # I went here twice during my trip and both times I went I saw a good amount of locals which is a good sign.\nIf you\u0026rsquo;re interested in coming here, I recommend waiting 30 minutes before they open (11:00 AM when I went) as there is almost always a queue.\nLocation # Make sure you stop by at least once if you\u0026rsquo;re in Tokyo. ","date":"8 May 2020","permalink":"/posts/japan2019/","section":"Posts","summary":"If you\u0026rsquo;re looking for the best Japanese curry, then look no further.","title":"The Perfect Japanese Curry 🍛"},{"content":"This is my first blog entry! More content will be coming 😉.\n","date":"2 May 2020","permalink":"/posts/my-first-post/","section":"Posts","summary":"This is my first blog entry!","title":"Hello world!"},{"content":"","date":"1 January 0001","permalink":"/authors/","section":"Authors","summary":"","title":"Authors"},{"content":"","date":"1 January 0001","permalink":"/series/","section":"Series","summary":"","title":"Series"}]